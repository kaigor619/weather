(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{18:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAApgAAAKYB3X3/OAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAACySURBVEiJxZYxDsIwDEWfOzDlYlyAQ3KAdmHjSkxdzJIFlJJ8x0CkqlITv+/aP1EMuAE7cHH3BwnDzApwBU5LhZ+BrU5kwLfK3AEKcAe8vou7E3larMOJDLi7010wA38RiIr0YuQAdW08cDCRWF2Vv5RtJ/Yp4hDNBAEbSjZe3rd6+vhriVoNbX0LCXwCKSK/32hSdupRodZ3JGYKPtSvWXhPJAXesTVrBvxAZDW+fG15AsmH2uD84R11AAAAAElFTkSuQmCC"},21:function(e,t,a){e.exports=a(40)},33:function(e,t,a){},34:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"updateWeatherTerm",(function(){return v})),a.d(n,"changeWeather",(function(){return f})),a.d(n,"changeTerm",(function(){return A})),a.d(n,"addToTable",(function(){return y})),a.d(n,"changeTable",(function(){return N})),a.d(n,"removeTableItem",(function(){return g})),a.d(n,"changeError",(function(){return w}));var r=a(0),l=a.n(r),c=a(7),u=a.n(c),m=a(2),i=a(20),o=a(3),s=a.n(o),p=a(9),d=a(15),E=a(16),b=function(){function e(){Object(d.a)(this,e)}return Object(E.a)(e,null,[{key:"getWeatherByCity",value:function(){var t=Object(p.a)(s.a.mark((function t(a){var n,r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(e._apiBase,"?q=").concat(a,"&appid=").concat(e._apiKey));case 2:if((n=t.sent).ok){t.next=5;break}throw new Error("Could not fetch, received ".concat(n.status));case 5:return t.next=7,n.json();case 7:return r=t.sent,t.abrupt("return",e.transformWeather(r));case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"getImageIcon",value:function(e){return"https://openweathermap.org/img/wn/".concat(e,".png")}},{key:"getCelcius",value:function(e){return Number(e-273.15).toFixed(1)}},{key:"getKm",value:function(e){return Number(e/1e3).toFixed(1)}},{key:"transformWeather",value:function(t){var a=t.name,n=t.weather,r=t.main,l=t.wind,c=t.visibility,u=t.clouds;return{name:a,icon:e.getImageIcon(n[0].icon),temp:e.getCelcius(r.temp),feels_like:e.getCelcius(r.feels_like),description:n.description,wind_speed:l.speed,pressure:r.pressure,humidity:r.humidity,visibility:e.getKm(c),cloudiness:u.all}}}]),e}();b._apiKey="e183742f468c7c6c9d2a0eb48e5c679f",b._apiBase="http://api.openweathermap.org/data/2.5/weather",b._apiImg="https://openweathermap.org/img/wn/";var h=b;function v(e){return function(){var t=Object(p.a)(s.a.mark((function t(a,n){var r,l;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(f(null)),r=e,e||(r=n().term),t.prev=3,t.next=6,h.getWeatherByCity(r);case 6:l=t.sent,t.next=12;break;case 9:return t.prev=9,t.t0=t.catch(3),t.abrupt("return",a(w(t.t0)));case 12:l&&(a(A(r)),a(f(l)));case 13:case"end":return t.stop()}}),t,null,[[3,9]])})));return function(e,a){return t.apply(this,arguments)}}()}function f(e){return{type:"CHANGE_WEATHER",payload:e}}function A(e){return{type:"CHANGE_TERM",payload:e}}function y(e){return{type:"ADD_TO_TABLE",payload:e}}function N(e){return{type:"CHANGE_TABLE",payload:e}}function g(e){return{type:"REMOVE_TABLE_ITEM",payload:e}}function w(e){return{type:"CHANGE_ERROR",payload:e}}var T=n,O=(a(33),{updateWeather:T.updateWeatherTerm}),_=Object(m.b)((function(e){return{term:e.term}}),O)((function(e){var t=e.term,a=e.updateWeather,n=Object(r.useState)(t),c=Object(i.a)(n,2),u=c[0],m=c[1];function o(e){e.preventDefault(),a(u)}return l.a.createElement("form",{className:"search input-group",onSubmit:o},l.a.createElement("input",{type:"text",className:"form-control search_input",placeholder:"London, Kyiv, Moscow",value:u,onChange:function(e){m(e.target.value)}}),l.a.createElement("div",{className:"input-group-append"},l.a.createElement("button",{type:"button",className:"btn btn-outline-secondary search_btn",onClick:o},"Search")))})),C=(a(34),function(e){var t=e.weather,a=t.wind_speed,n=t.pressure,r=t.humidity,c=t.visibility,u=t.cloudiness;return l.a.createElement("ul",{className:"list-unstyled weather_options"},l.a.createElement("li",null,l.a.createElement("b",null,"Speed:")," ",l.a.createElement("span",null," ",a,"m/s NNE")),l.a.createElement("li",null,l.a.createElement("b",null,"Pressure:")," ",l.a.createElement("span",null," ",n,"hPa")),l.a.createElement("li",null,l.a.createElement("b",null,"Humidity:")," ",l.a.createElement("span",null," ",r,"%")),l.a.createElement("li",null,l.a.createElement("b",null,"Visibility:")," ",l.a.createElement("span",null," ",c," km")),l.a.createElement("li",null,l.a.createElement("b",null,"Cloudiness:")," ",l.a.createElement("span",null," ",u,"%")))}),j=(a(35),function(){return l.a.createElement("div",{className:"spinner_canvas"},l.a.createElement("div",{className:"spinner"},l.a.createElement("div",{className:"lds-css ng-scope"},l.a.createElement("div",{className:"lds_spinner"},l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null)))))}),k=(a(36),function(e){var t=e.icon,a=e.temp;return l.a.createElement("div",{className:"weather_temp"},l.a.createElement("img",{src:t,className:"weather_icon",alt:"Weather"}),l.a.createElement("span",{className:"temp"},a,"\xb0C"))}),x=function(){return l.a.createElement("div",{className:"error text-center",style:{marginTop:"100px",marginBottom:"100px"}},l.a.createElement("h3",{className:"text-danger"},"Something was wrong"))},B=a(17),I=a.n(B),R=(a(37),{uploadWeather:T.updateWeatherTerm,addToTable:T.addToTable}),S=Object(m.b)((function(e){return{weather:e.weather,error:e.error}}),R)((function(e){var t=e.weather,a=e.uploadWeather,n=e.addToTable,c=e.error;if(Object(r.useEffect)((function(){a()}),[]),c)return l.a.createElement("div",{className:"weather"},l.a.createElement(x,null));if(!t||t==={})return l.a.createElement("div",{className:"weather"},l.a.createElement(j,null));var u=I.a.format(new Date,"HH:mm:ss ddd, MMM DD YYYY ");return l.a.createElement("div",{className:"weather"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-4"},l.a.createElement("div",{className:"location"},l.a.createElement("h4",null,l.a.createElement("span",{className:"location_icon"},l.a.createElement("i",{className:"fa fa-map-marker","aria-hidden":"true"})),t.name),l.a.createElement("p",{className:"text-secondary"},u)),l.a.createElement("div",{className:"mt-3"},l.a.createElement(k,{icon:t.icon,temp:t.temp})),l.a.createElement("p",{className:"mt-3"},"Feels like ",t.feels_like,"\xb0C. ",t.description),l.a.createElement("button",{className:"btn btn-primary",onClick:function(){n([t])}},"Add to table")),l.a.createElement("div",{className:"col-auto"},l.a.createElement(C,{weather:t}))))})),W={changeTable:T.changeTable},H=Object(m.b)((function(e){return{table:e.table}}),W)((function(e){var t=e.table,a=e.changeTable;return l.a.createElement("div",{className:"btn-group mb-4",role:"group"},l.a.createElement("button",{onClick:function(){localStorage.setItem("table",JSON.stringify(t))},type:"button",className:"btn btn-primary"},"Save"),l.a.createElement("button",{onClick:function(){var e=localStorage.getItem("table");e&&a(JSON.parse(e))},type:"button",className:"btn btn-primary"},"Unload"),l.a.createElement("button",{onClick:function(){localStorage.removeItem("table")},type:"button",className:"btn btn-primary"},"Remove"))})),D=a(18),L=a.n(D),K=(a(38),function(e){var t=e.weather,a=e.index,n=e.removeTableItem,r=t.name,c=t.icon,u=t.temp;return l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("div",{className:"city"},r)),l.a.createElement("td",null,l.a.createElement(k,{icon:c,temp:u})),l.a.createElement("td",null,l.a.createElement(C,{weather:t})),l.a.createElement("td",null,l.a.createElement("div",{className:"remove",onClick:function(){return n(a)}},l.a.createElement("img",{src:L.a,alt:""}))))}),M={removeTableItem:T.removeTableItem},Y=Object(m.b)((function(e){return{table:e.table}}),M)((function(e){var t=e.table,a=e.removeTableItem,n=t.map((function(e,t){return l.a.createElement(K,{key:e.name+t,weather:e,removeTableItem:a,index:t})}));return l.a.createElement("div",{className:"weather_table"},l.a.createElement("h2",{className:"text-center mb-5"},"Table"),l.a.createElement(H,null),l.a.createElement("table",{className:"table"},l.a.createElement("thead",{className:"thead-dark"},l.a.createElement("tr",null,l.a.createElement("th",{className:"text-center",scope:"col-2"},"City"),l.a.createElement("th",{className:"text-center",scope:"col"},"Temperature"),l.a.createElement("th",{className:"text-center",scope:"col"},"Main"),l.a.createElement("th",{className:"text-center",scope:"col"},"Remove"))),l.a.createElement("tbody",null,n)))}));a(39);var J=function(){return l.a.createElement("div",{className:"weather_app"},l.a.createElement("div",{className:"container"},l.a.createElement("h1",{className:"app_title text-center mt-5 mb-5"},"Weather"),l.a.createElement(_,null),l.a.createElement(S,null),l.a.createElement(Y,null)))},G=a(4),V=a(6),U=a(1),F={term:"London",table:[],weather:null};var P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_WEATHER":return Object(U.a)(Object(U.a)({},e),{},{error:null,weather:t.payload});case"CHANGE_TERM":return Object(U.a)(Object(U.a)({},e),{},{term:t.payload});case"ADD_TO_TABLE":return Object(U.a)(Object(U.a)({},e),{},{table:[].concat(Object(V.a)(e.table),Object(V.a)(t.payload))});case"CHANGE_TABLE":return Object(U.a)(Object(U.a)({},e),{},{table:t.payload});case"CHANGE_ERROR":return Object(U.a)(Object(U.a)({},e),{},{error:t.payload});case"REMOVE_TABLE_ITEM":var a=t.payload;return Object(U.a)(Object(U.a)({},e),{},{table:[].concat(Object(V.a)(e.table.slice(0,a)),Object(V.a)(e.table.slice(a+1)))});default:return e}},X=a(19),Z=Object(G.c)(P,Object(G.a)(X.a));u.a.render(l.a.createElement(m.a,{store:Z},l.a.createElement(J,null)),document.getElementById("app"))}},[[21,1,2]]]);
//# sourceMappingURL=main.06c66c94.chunk.js.map